# Base image
FROM ubuntu:24.04

# Prevent prompts during install
ENV DEBIAN_FRONTEND=noninteractive

# ---- Install languages ----
RUN apt-get update && apt-get install -y \
    python3 python3-pip python3-venv \
    build-essential gcc clang \
    bash curl git \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

# ---- Create working directory ----
WORKDIR /workspace

# ---- Optional: Install a simple Python REST API to run code ----
RUN pip install flask

COPY worker_api.py /workspace/worker_api.py

EXPOSE 8000

CMD ["python3", "worker_api.py"]
